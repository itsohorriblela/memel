
# rabbit MQ 和 kafka 的对比

RabbitMQ和Kafka都是流行的消息队列系统，它们都可以用于构建分布式系统中的消息传递机制。
虽然它们都可以用于相似的场景，但它们之间仍然存在一些重要的区别。

1. 数据处理方式不同

RabbitMQ是一个传统的AMQP消息队列，它使用队列来存储和传递消息，并通过消息持久化和队列持久化机制，将消息和队列持久化到磁盘中。RabbitMQ在消息传递方面的优点是它可以提供高可靠性和持久性，可以确保消息不会丢失，即使在处理过程中发生故障。


Kafka则是一个分布式流处理平台，它使用分布式日志来存储和传递消息。它支持高吞吐量和低延迟的实时数据流处理，适合处理大量的数据流。Kafka的消息处理方式是通过分区和复制来保证高可用性和可靠性。

2. 性能方面

由于Kafka是专门为流处理而设计的，因此它在处理大量数据时比RabbitMQ更快。Kafka的高吞吐量和低延迟使其适合于需要实时数据处理的场景。RabbitMQ适合于需要较少的消息传递和较高的可靠性的场景。


3. 可用性

Kafka和RabbitMQ都是可扩展的，并且可以部署在分布式环境中，但是，它们在可用性方面有所不同。RabbitMQ在节点故障时可以提供高可用性，但是需要使用专门的集群插件和负载均衡器来实现。Kafka则通过复制和分区来保证高可用性，即使某些节点失败，也可以继续提供服务。


4. 数据存储方式

RabbitMQ使用磁盘来存储消息，这意味着它可以存储大量的消息并且不会丢失数据。
Kafka则将消息存储在内存中的日志中，这使得Kafka在处理大量数据时非常快，但也意味着它可能会在节点故障时丢失一些数据。为了避免数据丢失，Kafka会定期将消息写入磁盘中的日志文件。这样即使在节点故障时，也可以从磁盘中的日志文件恢复数据。


5. 使用场景

RabbitMQ适合于需要高可靠性和持久性的消息传递场景，异步任务处理，系统解耦，流量削峰，日志收集，实时通信，金融交易、电子商务等。

而Kafka适合于需要高吞吐量和低延迟的实时数据处理场景，追求高吞吐量，适合产生大量数据的互联网服务的数据收集业务，但是分区存储的topic无法保证消息的有序性，由于其消费消息采用提交偏移量机制，导致一旦偏移量提交出现问题，就会导致消息丢失，或者重复消费问题。
实时日志分析、大屏看板统计、公交实时数据、实时热点文章分值计算。


# 消息队列阻塞怎么办

1. 限制生产端的生产速度

2. 提高消费者数量

3. 提高消费端的处理能力

4. 耗时长的操作改为异步处理



