# 浏览器发起一次HTTPS请求的过程详解

## 构建请求

## 查找浏览器缓存

## DNS解析

1. 查询浏览器DNS缓存

2. 查询操作系统DNS缓存

3. 读取hosts文件

4. 请求DNS服务器

## TCP三次握手

## TLS握手

### 客户端发送client Hello ,消息包含TLS版本以及client random随机字符串

### 服务端发送server Hello, 消息包含数字证书以及server random随机字符串

### 客户端验证证书

1. 检查数字签名

2. 验证证书链

3. 检查证书有效期

4. 检查证书的撤回状态

### 客户端发送 premaster secret字符串，利用服务端公钥加密 （加密算法如RSA)

### 服务端利用服务端私钥解密获得premaster secret

### 客户端和服务端利用client random 、server random、 premaster secret 生成共享密钥

### 客户端就绪，发送共享密钥加密过的finished

### 服务端就绪， 发送共享密钥加密过的finished

### 达成安全通信，通过共享密钥加密传输数据

### 四次挥手



# 网站带WWW和不带有什么区别

	本质上两者的域名是不同的，建议将没有www的域名重定向的www的域名。统一有助于将权重集中在一个域名上。


# sse 与 web socket

## event source 


SSE 是基于 HTTP 的服务器推送技术，使用简单的长轮询机制。  
客户端通过在浏览器中创建 EventSource 对象来与服务器建立 SSE 连接。  
服务器可以实时地将事件流数据推送到客户端，客户端通过监听事件进行处理。  
SSE 适用于单向的服务器到客户端的推送，服务器可以持续地向客户端发送事件流数据。  
SSE 只能使用 HTTP 协议，不能使用其他协议。


## web scoket

WebSocket 是一种全双工的通信协议，通过在客户端和服务器之间建立持久连接实现双向通信。   
客户端通过在浏览器中创建 WebSocket 对象来与服务器建立 WebSocket 连接。  
WebSocket 连接使用 WebSocket 协议，不依赖于 HTTP，可以使用其他协议（如 ws:// 或 wss://）。  
WebSocket 提供了一种双向通信的机制，客户端和服务器可以随时发送消息给对方。  
WebSocket 适用于需要实时双向通信的应用，如聊天应用、协作编辑、实时数据更新等。    

## 对比

SSE 适用于服务器向客户端单向推送事件流的场景，通常用于实时的通知、实时更新等应用。  
WebSocket 适用于双向通信的场景，允许客户端和服务器之间进行实时的双向数据交换，通常用于实时聊天、实时协作等应用。  
SSE 使用基于 HTTP 的长轮询机制，而 WebSocket 使用独立的协议。  
SSE 对于支持的浏览器比较广泛，但功能较为有限；WebSocket 需要更高级的浏览器支持，但提供了更丰富的功能。  
根据应用需求，可以选择 SSE 或 WebSocket 来实现实时通信，具体取决于通信模式和功能要求。
    





