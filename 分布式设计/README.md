# CAP原理

- C Consistency 一致性： 访问所有的节点，得到的数据结果都是一样的。注意：这里的一致性指的是强一致性，也就是数据更新完，访问任意节点，看到的数据完全一致，要和弱一致性、最终一致性区分开来。

- A Availability 可用性： 所有节点都保持高可用性。注意：这里的高可用还包括，不能出现延迟，如节点B由于等待数据同步而阻塞了请求，那么节点B就不满足高可用性。
也就是说，任何没有发生故障的服务必须在有限的时间内返回合理的结果集。


- P Partiton tolerance 分区容错性： 这里的分区指的是网络意义上的分区。由于网络是不可靠的，所有节点之间很可能出现无法通讯的情况，在节点不能通信时，要保证系统可以继续正常服务。
以实际效果而言，分区相当于对通信的时限要求。如果系统不能够在时限内做到数据一致性，就意味着发生了分区的情况，必须就当前操作在C与A之间做出选择。

一个数据分布式系统，不可能同时满足CAP这三个条件。所以系统架构师在设计系统时，不需要将精力浪费在如何设计满足三者的完美分布式系统，而是应该做出取舍。由于我们能确定的就是网络的一个不可靠性质，那么大多开源的分布式系统都会实现P，也就是分区容错性，之后在C与A中做出抉择。

CAP原理其实是对分布式数据存储系统的一个定论。

结合实际的业务场景、和具体需求，基于CAP定理来进行权衡和设计可用且稳定的分布式系统。

